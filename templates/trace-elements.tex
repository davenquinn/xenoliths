<# macro loop(type) -#>
  <#- for s in samples #>
    << s.id >>
    <#- for el in elements -#>
    & << s[type][el]|n >>
    <#- endfor #> & << s[type].n >> \\
  <#- endfor #>
<#- endmacro #>
\begin{tabular}{l<< " r"*(ncols-1) >>}
\hline
  Sample
  <#- for el in elements -#>
  & \ce{<< el >>}
  <#- endfor #> & $n$ \\
\hline
\multicolumn{<<ncols>>}{l}{Orthopyroxene} \\
\hline
<< loop("opx") >>
\hline
\multicolumn{<<ncols>>}{l}{Clinopyroxene} \\
\hline
<< loop("cpx") >>
\hline
\end{tabular}


