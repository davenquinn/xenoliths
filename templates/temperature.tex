<# macro temp(obj) -#>
  << obj.n|n(0) >> & << obj.s|n(0)>>
<#- endmacro #>
<# macro un() -#>
\mu & \sigma
<#- endmacro #>
<# macro tloop(k, s) -#>
  & << k >> &
    << temp(s.ta98) >> &
    << temp(s.bkn) >> &
    << temp(s.ca_opx_corr) >> &
    << s.n_opx|n(0) >> &
    << s.n_cpx|n(0) >> &
    <# if k == 'core' #>
    << temp(s.ree) >>
    <# else #> &
    <# endif #>
   \\
<#- endmacro #>
\begin{tabular}{l r r r r r r r r r r r r}
\hline
Sample & & 
\multicolumn{2}{c}{TA98} &
\multicolumn{2}{c}{BKN} &
\multicolumn{2}{c}{Ca-Opx} &
$n_\textrm{opx}$ & $n_\textrm{cpx}$ &
\multicolumn{2}{c}{REE} \\
& & << un() >> & << un() >> & << un() >> & & & <<un()>> \\
\hline
<# for s in samples  #>
  \multirow{ 2}{*}{<< s.id >>}
  << tloop('core',s.core) >>
  << tloop('rim',s.rim) >>
<# endfor  #>
\hline
\end{tabular}
